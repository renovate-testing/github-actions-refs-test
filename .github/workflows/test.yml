name: Test

on:
  push:
    branches: [main]
  pull_request:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      # === UNPINNED (should get pinned) ===
      
      # Semver tag
      - uses: actions/checkout@v4

      # Feature-oriented tag (non-semver)
      - uses: taiki-e/install-action@cargo-llvm-cov

      # Branch reference
      - uses: actions/checkout@main

      # === PINNED (should get updated) ===
      
      # Semver with digest
      - uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1

      # Feature tag with digest
      - uses: taiki-e/install-action@e86e8cacb1c20f8ed587773a2c596b2eaa88d413 # ref=just

      # Branch with digest
      - uses: actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332 # ref=main

      - run: echo "All action types work!"
